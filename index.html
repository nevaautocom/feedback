<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Оцените наш сервис</title>
  <style>
    body { font-family: sans-serif; max-width: 500px; margin: 40px auto; }
    .stars { display: flex; gap: 10px; font-size: 24px; cursor: pointer; }
    .stars span { padding: 5px; }
    .selected { color: gold; }
    #feedbackForm { display: none; margin-top: 20px; }
  </style>
</head>
<body>

  <h2>Как вам наш сервис?</h2>
  <div class="stars" id="starContainer">
    <span data-value="1">★</span>
    <span data-value="2">★</span>
    <span data-value="3">★</span>
    <span data-value="4">★</span>
    <span data-value="5">★</span>
  </div>

  <div id="feedbackForm">
    <p>Что можно улучшить?</p>
    <textarea id="feedback" rows="4" cols="50" placeholder="Напишите свой отзыв..."></textarea><br>
    <button onclick="submitFeedback()">Отправить</button>
  </div>

  <script>
    const stars = document.querySelectorAll('.stars span');
    const feedbackForm = document.getElementById('feedbackForm');
    const yandexLink = "https://yandex.ru/maps/org/ВАША_ССЫЛКА"; // ← вставь сюда свою ссылку

    let selectedRating = 0;

    stars.forEach(star => {
      star.addEventListener('click', () => {
        selectedRating = parseInt(star.dataset.value);
        highlightStars(selectedRating);

        if (selectedRating === 5) {
          window.location.href = yandexLink;
        } else {
          feedbackForm.style.display = 'block';
        }
      });
    });

    function highlightStars(rating) {
      stars.forEach(star => {
        star.classList.toggle('selected', parseInt(star.dataset.value) <= rating);
      });
    }

    function submitFeedback() {
      const text = document.getElementById('feedback').value;
      if (!text.trim()) {
        alert("Пожалуйста, напишите, что можно улучшить.");
        return;
      }
      alert("Спасибо за отзыв!");
      feedbackForm.style.display = 'none';
    }
  </script>

</body>
</html>
